class g{constructor(){this.html=document.getElementsByTagName("html")[0],this.config=window.config}initVerticalMenu(){const e=document.querySelectorAll(".navbar-nav li .collapse");if(document.querySelectorAll(".navbar-nav li [data-bs-toggle='collapse']").forEach(c=>{c.addEventListener("click",function(n){n.preventDefault()})}),e.forEach(c=>{c.addEventListener("show.bs.collapse",function(n){const t=n.target.closest(".collapse.show");document.querySelectorAll(".navbar-nav .collapse.show").forEach(o=>{o!==n.target&&o!==t&&new bootstrap.Collapse(o).hide()})})}),document.querySelector(".navbar-nav")){let c=function(t,o,i,l){return t/=l/2,t<1?i/2*t*t+o:(t--,-i/2*(t*(t-2)-1)+o)},n=function(t,o,i){var l=t.scrollTop,m=o-l,d=0,u=20,h=function(){d+=u;var f=c(d,l,m,i);t.scrollTop=f,d<i&&setTimeout(h,u)};h()};var s=c,r=n;document.querySelectorAll(".navbar-nav a").forEach(function(t){var o=window.location.href.split(/[?#]/)[0];if(t.href===o){t.classList.add("active"),t.parentNode.classList.add("active");let i=t.closest(".collapse");for(;i;)i.classList.add("show"),i.parentElement.children[0].classList.add("active"),i.parentElement.children[0].setAttribute("aria-expanded","true"),i=i.parentElement.closest(".collapse")}}),setTimeout(function(){var t=document.querySelector("li a.active");if(t!=null){var o=document.querySelector(".main-nav .simplebar-content-wrapper"),i=t.offsetTop-300;o&&i>100&&n(o,i,600)}},200)}}initConfig(){this.config=JSON.parse(JSON.stringify(window.config)),this.setSwitchFromConfig()}changeMenuColor(e){this.config.menu.color=e,this.html.setAttribute("data-menu-color",e),this.setSwitchFromConfig()}changeMenuSize(e,a=!0){this.html.setAttribute("data-menu-size",e),a&&(this.config.menu.size=e,this.setSwitchFromConfig())}changeThemeMode(e){this.config.theme=e,this.html.setAttribute("data-bs-theme",e),this.setSwitchFromConfig()}changeTopbarColor(e){this.config.topbar.color=e,this.html.setAttribute("data-topbar-color",e),this.setSwitchFromConfig()}resetTheme(){this.config=JSON.parse(JSON.stringify(window.defaultConfig)),this.changeMenuColor(this.config.menu.color),this.changeMenuSize(this.config.menu.size),this.changeThemeMode(this.config.theme),this.changeTopbarColor(this.config.topbar.color)}initSwitchListener(){var e=this;document.querySelectorAll("input[name=data-menu-color]").forEach(function(n){n.addEventListener("change",function(t){e.changeMenuColor(n.value)})}),document.querySelectorAll("input[name=data-menu-size]").forEach(function(n){n.addEventListener("change",function(t){e.changeMenuSize(n.value)})}),document.querySelectorAll("input[name=data-bs-theme]").forEach(function(n){n.addEventListener("change",function(t){e.changeThemeMode(n.value)})}),document.querySelectorAll("input[name=data-topbar-color]").forEach(function(n){n.addEventListener("change",function(t){e.changeTopbarColor(n.value)})});var a=document.getElementById("light-dark-mode");a&&a.addEventListener("click",function(n){e.config.theme==="light"?e.changeThemeMode("dark"):e.changeThemeMode("light")});var s=document.querySelector("#reset-layout");s&&s.addEventListener("click",function(n){e.resetTheme()});var r=document.querySelector(".button-toggle-menu");r&&r.addEventListener("click",function(){var n=e.config.menu.size,t=e.html.getAttribute("data-menu-size",n);if(t!=="hidden")t==="condensed"?e.changeMenuSize(n=="condensed"?"default":n,!1):e.changeMenuSize("condensed",!1);else if(e.html.classList.contains("sidebar-enable")){e.html.classList.remove("sidebar-enable");const o=document.querySelector(".offcanvas-backdrop");o&&(document.body.removeChild(o),document.body.style.overflow=null,document.body.style.paddingRight=null)}else e.html.classList.add("sidebar-enable"),e.showBackdrop()});var c=document.querySelectorAll(".button-sm-hover");c.forEach(function(n){n.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var o=e.config.menu.size,i=e.html.getAttribute("data-menu-size",o);if(e.html.classList.contains("sidebar-enable")){e.html.classList.remove("sidebar-enable");const l=document.querySelector(".offcanvas-backdrop");l&&(document.body.removeChild(l),document.body.style.overflow=null,document.body.style.paddingRight=null);return}if(o==="sm-hover-active"){i==="sm-hover-active"?e.changeMenuSize("sm-hover",!0):e.changeMenuSize("sm-hover-active",!0);return}if(o==="sm-hover"){i==="sm-hover"?e.changeMenuSize("sm-hover-active",!0):e.changeMenuSize("sm-hover",!0);return}})})}showBackdrop(){const e=document.querySelector(".offcanvas-backdrop");e&&document.body.removeChild(e);const a=document.createElement("div");a.classList="offcanvas-backdrop fade show",document.body.appendChild(a),document.body.style.overflow="hidden",window.innerWidth>1040&&(document.body.style.paddingRight="15px");const s=this;a.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation(),s.html.classList.remove("sidebar-enable"),document.body.contains(a)&&document.body.removeChild(a),document.body.style.overflow=null,document.body.style.paddingRight=null})}initWindowSize(){var e=this;window.addEventListener("resize",function(a){e._adjustLayout()})}_adjustLayout(){var e=this;window.innerWidth<=1140?e.changeMenuSize("hidden",!1):e.changeMenuSize(e.config.menu.size)}setSwitchFromConfig(){sessionStorage.setItem("__LARKON_CONFIG__",JSON.stringify(this.config)),document.querySelectorAll(".settings-bar input[type=radio]").forEach(function(n){n.checked=!1});var e=this.config;if(e){var a=document.querySelector("input[type=radio][name=data-bs-theme][value="+e.theme+"]"),s=document.querySelector("input[type=radio][name=data-topbar-color][value="+e.topbar.color+"]"),r=document.querySelector("input[type=radio][name=data-menu-size][value="+e.menu.size+"]"),c=document.querySelector("input[type=radio][name=data-menu-color][value="+e.menu.color+"]");a&&(a.checked=!0),s&&(s.checked=!0),r&&(r.checked=!0),c&&(c.checked=!0)}}init(){this.initVerticalMenu(),this.initConfig(),this.initSwitchListener(),this.initWindowSize(),this._adjustLayout(),this.setSwitchFromConfig()}}new g().init();
