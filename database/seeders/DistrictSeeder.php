<?php

namespace Database\Seeders;

use App\Models\District;
use App\Models\Governorate;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class DistrictSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $districts = [
            'بغداد' => ['الكرخ', 'الرصافة', 'الكرادة', 'المنصور', 'الشعب', 'البياع', 'الدورة', 'الزعفرانية', 'الطارمية', 'أبو غريب'],
            'البصرة' => ['البصرة', 'القرنة', 'أبو الخصيب', 'شط العرب', 'الزبير', 'الفيحاء', 'الهارثة'],
            'الموصل' => ['الموصل', 'سنجار', 'تلعفر', 'الحمدانية', 'بعشيقة', 'الشيخان'],
            'أربيل' => ['أربيل', 'كويسنجق', 'مخمور', 'خبات', 'سوران', 'ميركه سور'],
            'كركوك' => ['كركوك', 'الحويجة', 'داقوق', 'الزاب', 'دبس'],
            'السليمانية' => ['السليمانية', 'حلبجة', 'جمجمال', 'بنجوين', 'قره داغ', 'شهرزور'],
            'دهوك' => ['دهوك', 'زاخو', 'سميل', 'عقرة', 'شيخان'],
            'ديالى' => ['بعقوبة', 'المقدادية', 'خانقين', 'بلدروز', 'المدائن', 'خان بني سعد'],
            'الأنبار' => ['الرمادي', 'الفلوجة', 'هيت', 'حديثة', 'القائم', 'الحبانية', 'هيت'],
            'بابل' => ['الحلة', 'المسيب', 'المحمودية', 'الهاشمية', 'المسيب', 'اللطيفية'],
            'كربلاء' => ['كربلاء', 'عين التمر', 'الهندية'],
            'النجف' => ['النجف', 'الكوفة', 'المناذرة', 'أبو صخير'],
            'المثنى' => ['السماوة', 'الرميثة', 'الخضر', 'الوركاء'],
            'القادسية' => ['الديوانية', 'الشامية', 'الحمزة', 'الشنافية'],
            'واسط' => ['الكوت', 'النعمانية', 'الصويرة', 'الحي'],
            'ذي قار' => ['الناصرية', 'الشطرة', 'الرفاعي', 'سوق الشيوخ', 'الجبايش'],
            'ميسان' => ['العمارة', 'علي الغربي', 'المجر الكبير', 'الكحلاء'],
            'صلاح الدين' => ['تكريت', 'بيجي', 'سامراء', 'بيجي', 'الشرقاط', 'الدور'],
        ];

        foreach ($districts as $governorateName => $districtNames) {
            $governorate = Governorate::where('name', $governorateName)->first();
            
            if ($governorate) {
                foreach ($districtNames as $districtName) {
                    District::updateOrCreate(
                        [
                            'governorate_id' => $governorate->id,
                            'name' => $districtName,
                        ],
                        [
                            'governorate_id' => $governorate->id,
                            'name' => $districtName,
                            'is_active' => true,
                        ]
                    );
                }
            }
        }
    }
}
